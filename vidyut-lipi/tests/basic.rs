use vidyut_lipi::Scheme::*;
use vidyut_lipi::{transliterate, Scheme};

/// Transliterates all input strings against each other.
///
/// This function assums that all strings provided are lossless.
fn assert_exhaustive_pairwise(examples: &[(Scheme, &str)]) {
    for (from, input) in examples {
        for (to, expected) in examples {
            let actual = transliterate(input, *from, *to);
            assert_eq!(*expected, actual, "t(\"{input}\", {from:?}, {to:?})");
        }
    }
}

#[test]
fn vowels() {
    assert_exhaustive_pairwise(&[
        (HarvardKyoto, "a A i I u U R RR lR lRR e ai o au"),
        (Iast, "a ─Б i ─л u ┼л с╣Ы с╣Э с╕╖ с╕╣ e ai o au"),
        (Itrans, "a A i I u U RRi RRI LLi LLI e ai o au"),
        (Slp1, "a A i I u U f F x X e E o O"),
        (Velthuis, "a aa i ii u uu .r .R .l .L e ai o au"),
        // Indic
        (Bengali, "ржЕ ржЖ ржЗ ржИ ржЙ ржК ржЛ рза ржМ рзб ржП ржР ржУ ржФ"),
        (Brahmi, "ЁСАЕ ЁСАЖ ЁСАЗ ЁСАИ ЁСАЙ ЁСАК ЁСАЛ ЁСАМ ЁСАН ЁСАО ЁСАП ЁСАР ЁСАС ЁСАТ"),
        (Devanagari, "рдЕ рдЖ рдЗ рдИ рдЙ рдК рдЛ реа рдМ реб рдП рдР рдУ рдФ"),
        (Grantha, "ЁСМЕ ЁСМЖ ЁСМЗ ЁСМИ ЁСМЙ ЁСМК ЁСМЛ ЁСНа ЁСММ ЁСНб ЁСМП ЁСМР ЁСМУ ЁСМФ"),
        (Gujarati, "ркЕ ркЖ ркЗ ркИ ркЙ ркК ркЛ рла ркМ рлб ркП ркР ркУ ркФ"),
        (Kannada, "р▓Е р▓Ж р▓З р▓И р▓Й р▓К р▓Л р│а р▓М р│б р▓П р▓Р р▓У р▓Ф"),
        (Malayalam, "р┤Е р┤Ж р┤З р┤И р┤Й р┤К р┤Л р╡а р┤М р╡б р┤П р┤Р р┤У р┤Ф"),
        (Oriya, "рмЕ рмЖ рмЗ рмИ рмЙ рмК рмЛ рна рмМ рнб рмП рмР рмУ рмФ"),
        (Sinhala, "р╢Е р╢Ж р╢Й р╢К р╢Л р╢М р╢Н р╢О р╢П р╢Р р╢Т р╢У р╢Х р╢Ц"),
        (Telugu, "р░Е р░Ж р░З р░И р░Й р░К р░Л р▒а р░М р▒б р░П р░Р р░У р░Ф"),
    ]);
}

/// Includes vowel marks and virama
#[test]
fn dependent_marks() {
    assert_exhaustive_pairwise(&[
        (
            HarvardKyoto,
            "ka kA ki kI ku kU kR kRR klR klRR ke kai ko kau k",
        ),
        (Iast, "ka k─Б ki k─л ku k┼л kс╣Ы kс╣Э kс╕╖ kс╕╣ ke kai ko kau k"),
        (
            Itrans,
            "ka kA ki kI ku kU kRRi kRRI kLLi kLLI ke kai ko kau k",
        ),
        (Slp1, "ka kA ki kI ku kU kf kF kx kX ke kE ko kO k"),
        // Indic
        (Bengali, "ржХ ржХрж╛ ржХрж┐ ржХрзА ржХрзБ ржХрзВ ржХрзГ ржХрзД ржХрзв ржХрзг ржХрзЗ ржХрзИ ржХрзЛ ржХрзМ ржХрзН"),
        (Brahmi, "ЁСАУ ЁСАУЁСА╕ ЁСАУЁСА║ ЁСАУЁСА╗ ЁСАУЁСА╝ ЁСАУЁСА╜ ЁСАУЁСА╛ ЁСАУЁСА┐ ЁСАУЁСБА ЁСАУЁСББ ЁСАУЁСБВ ЁСАУЁСБГ ЁСАУЁСБД ЁСАУЁСБЕ ЁСАУЁСБЖ"),
        (Devanagari, "рдХ рдХрд╛ рдХрд┐ рдХреА рдХреБ рдХреВ рдХреГ рдХреД рдХрев рдХрег рдХреЗ рдХреИ рдХреЛ рдХреМ рдХреН"),
        (Grantha, "ЁСМХ ЁСМХЁСМ╛ ЁСМХЁСМ┐ ЁСМХЁСНА ЁСМХЁСНБ ЁСМХЁСНВ ЁСМХЁСНГ ЁСМХЁСНД ЁСМХЁСНв ЁСМХЁСНг ЁСМХЁСНЗ ЁСМХЁСНИ ЁСМХЁСНЛ ЁСМХЁСНЧ ЁСМХЁСНН"),
        (Gujarati, "ркХ ркХрк╛ ркХрк┐ ркХрлА ркХрлБ ркХрлВ ркХрлГ ркХрлД ркХрлв ркХрлг ркХрлЗ ркХрлИ ркХрлЛ ркХрлМ ркХрлН"),
        (Kannada, "р▓Х р▓Хр▓╛ р▓Хр▓┐ р▓Хр│А р▓Хр│Б р▓Хр│В р▓Хр│Г р▓Хр│Д р▓Хр│в р▓Хр│г р▓Хр│З р▓Хр│И р▓Хр│Л р▓Хр│М р▓Хр│Н"),
        (Malayalam, "р┤Х р┤Хр┤╛ р┤Хр┤┐ р┤Хр╡А р┤Хр╡Б р┤Хр╡В р┤Хр╡Г р┤Хр╡Д р┤Хр╡в р┤Хр╡г р┤Хр╡З р┤Хр╡И р┤Хр╡Л р┤Хр╡М р┤Хр╡Н"),
        (Oriya, "рмХ рмХрм╛ рмХрм┐ рмХрнА рмХрнБ рмХрнВ рмХрнГ рмХрнД рмХрнв рмХрнг рмХрнЗ рмХрнИ рмХрнЛ рмХрнМ рмХрнН"),
        (Sinhala, "р╢Ъ р╢Ър╖П р╢Ър╖Т р╢Ър╖У р╢Ър╖Ф р╢Ър╖Ц р╢Ър╖Ш р╢Ър╖▓ р╢Ър╖Я р╢Ър╖│ р╢Ър╖Ъ р╢Ър╖Ы р╢Ър╖Э р╢Ър╖Ю р╢Ър╖К"),
        (Telugu, "р░Х р░Хр░╛ р░Хр░┐ р░Хр▒А р░Хр▒Б р░Хр▒В р░Хр▒Г р░Хр▒Д р░Хр▒в р░Хр▒г р░Хр▒З р░Хр▒И р░Хр▒Л р░Хр▒М р░Хр▒Н"),
    ]);
}

#[test]
fn ayogavahas() {
    assert_exhaustive_pairwise(&[
        (HarvardKyoto, "aM aH"),
        (Iast, "aс╣Г aс╕е"),
        (Itrans, "aM aH"),
        (Slp1, "aM aH"),
        (Velthuis, "a.m a.h"),
        // Indic
        (Devanagari, "рдЕрдВ рдЕрдГ"),
        (Kannada, "р▓Ер▓В р▓Ер▓Г"),
        (Malayalam, "р┤Ер┤В р┤Ер┤Г"),
        (Telugu, "р░Ер░В р░Ер░Г"),
    ]);
}

#[test]
fn consonants() {
    assert_exhaustive_pairwise(&[
        (HarvardKyoto, "ka kha ga gha Ga ca cha ja jha Ja Ta Tha Da Dha Na ta tha da dha na pa pha ba bha ma ya ra la va za Sa sa ha La",),
        (Iast, "ka kha ga gha с╣Еa ca cha ja jha ├▒a с╣нa с╣нha с╕Нa с╕Нha с╣Зa ta tha da dha na pa pha ba bha ma ya ra la va ┼Ыa с╣гa sa ha с╕╗a"),
        (Itrans, "ka kha ga gha ~Na cha Cha ja jha ~na Ta Tha Da Dha Na ta tha da dha na pa pha ba bha ma ya ra la va sha Sha sa ha La"),
        (Slp1, "ka Ka ga Ga Na ca Ca ja Ja Ya wa Wa qa Qa Ra ta Ta da Da na pa Pa ba Ba ma ya ra la va Sa za sa ha La"),
        (Velthuis, "ka kha ga gha \"na ca cha ja jha ~na .ta .tha .da .dha .na ta tha da dha na pa pha ba bha ma ya ra la va \"sa .sa sa ha La"),
        // Indic
        (Brahmi, "ЁСАУ ЁСАФ ЁСАХ ЁСАЦ ЁСАЧ ЁСАШ ЁСАЩ ЁСАЪ ЁСАЫ ЁСАЬ ЁСАЭ ЁСАЮ ЁСАЯ ЁСАа ЁСАб ЁСАв ЁСАг ЁСАд ЁСАе ЁСАж ЁСАз ЁСАи ЁСАй ЁСАк ЁСАл ЁСАм ЁСАн ЁСАо ЁСАп ЁСА░ ЁСА▒ ЁСА▓ ЁСА│ ЁСА┤"),
        (Devanagari, "рдХ рдЦ рдЧ рдШ рдЩ рдЪ рдЫ рдЬ рдЭ рдЮ рдЯ рда рдб рдв рдг рдд рде рдж рдз рди рдк рдл рдм рдн рдо рдп рд░ рд▓ рд╡ рд╢ рд╖ рд╕ рд╣ рд│"),
        (Grantha, "ЁСМХ ЁСМЦ ЁСМЧ ЁСМШ ЁСМЩ ЁСМЪ ЁСМЫ ЁСМЬ ЁСМЭ ЁСМЮ ЁСМЯ ЁСМа ЁСМб ЁСМв ЁСМг ЁСМд ЁСМе ЁСМж ЁСМз ЁСМи ЁСМк ЁСМл ЁСМм ЁСМн ЁСМо ЁСМп ЁСМ░ ЁСМ▓ ЁСМ╡ ЁСМ╢ ЁСМ╖ ЁСМ╕ ЁСМ╣ ЁСМ│"),
        (Gujarati, "ркХ ркЦ ркЧ ркШ ркЩ ркЪ ркЫ ркЬ ркЭ ркЮ ркЯ рка ркб ркв ркг ркд рке ркж ркз рки ркк ркл ркм ркн рко ркп рк░ рк▓ рк╡ рк╢ рк╖ рк╕ рк╣ рк│"),
        (Kannada, "р▓Х р▓Ц р▓Ч р▓Ш р▓Щ р▓Ъ р▓Ы р▓Ь р▓Э р▓Ю р▓Я р▓а р▓б р▓в р▓г р▓д р▓е р▓ж р▓з р▓и р▓к р▓л р▓м р▓н р▓о р▓п р▓░ р▓▓ р▓╡ р▓╢ р▓╖ р▓╕ р▓╣ р▓│"),
        (Malayalam, "р┤Х р┤Ц р┤Ч р┤Ш р┤Щ р┤Ъ р┤Ы р┤Ь р┤Э р┤Ю р┤Я р┤а р┤б р┤в р┤г р┤д р┤е р┤ж р┤з р┤и р┤к р┤л р┤м р┤н р┤о р┤п р┤░ р┤▓ р┤╡ р┤╢ р┤╖ р┤╕ р┤╣ р┤│"),
        (Oriya, "рмХ рмЦ рмЧ рмШ рмЩ рмЪ рмЫ рмЬ рмЭ рмЮ рмЯ рма рмб рмв рмг рмд рме рмж рмз рми рмк рмл рмм рмн рмо рмп рм░ рм▓ рм╡ рм╢ рм╖ рм╕ рм╣ рм│"),
        (Sinhala, "р╢Ъ р╢Ы р╢Ь р╢Э р╢Ю р╢а р╢б р╢в р╢г р╢д р╢з р╢и р╢й р╢к р╢л р╢н р╢о р╢п р╢░ р╢▒ р╢┤ р╢╡ р╢╢ р╢╖ р╢╕ р╢║ р╢╗ р╢╜ р╖А р╖Б р╖В р╖Г р╖Д р╖Е"),
        (Telugu, "р░Х р░Ц р░Ч р░Ш р░Щ р░Ъ р░Ы р░Ь р░Э р░Ю р░Я р░а р░б р░в р░г р░д р░е р░ж р░з р░и р░к р░л р░м р░н р░о р░п р░░ р░▓ р░╡ р░╢ р░╖ р░╕ р░╣ р░│"),
    ]);
}

#[test]
fn symbols() {
    assert_exhaustive_pairwise(&[
        (HarvardKyoto, "0 1 2 3 4 5 6 7 8 9 . .. '"),
        (Iast, "0 1 2 3 4 5 6 7 8 9 . .. '"),
        (Itrans, "0 1 2 3 4 5 6 7 8 9 | || .a"),
        (Slp1, "0 1 2 3 4 5 6 7 8 9 . .. '"),
        (Velthuis, "0 1 2 3 4 5 6 7 8 9 | || .a"),
        // Indic
        (Bengali, "рзж рзз рзи рзй рзк рзл рзм рзн рзо рзп ред рее рж╜"),
        (Devanagari, "реж рез реи рей рек рел рем рен рео реп ред рее рд╜"),
        (Grantha, "рпж рпз рпи рпй рпк рпл рпм рпн рпо рпп ред рее ЁСМ╜"),
        (Gujarati, "рлж рлз рли рлй рлк рлл рлм рлн рло рлп ред рее рк╜"),
        (Gurmukhi, "рйж рйз рйи рйй рйк рйл рйм рйн рйо рйп ред рее рд╜"),
        (Kannada, "р│ж р│з р│и р│й р│к р│л р│м р│н р│о р│п ред рее р▓╜"),
        (Malayalam, "р╡ж р╡з р╡и р╡й р╡к р╡л р╡м р╡н р╡о р╡п ред рее р┤╜"),
        (Oriya, "рнж рнз рни рнй рнк рнл рнм рнн рно рнп ред рее рм╜"),
        (Telugu, "р▒ж р▒з р▒и р▒й р▒к р▒л р▒м р▒н р▒о р▒п ред рее р░╜"),
    ]);
}

#[test]
fn basic_sentences() {
    assert_exhaustive_pairwise(&[
        (HarvardKyoto, "nArAyaNaM namaskRtya naraM caiva narottamam . devIM sarasvatIM caiva tato jayamudIyaret .. 1 ..",),
        (Iast, "n─Бr─Бyaс╣Зaс╣Г namaskс╣Ыtya naraс╣Г caiva narottamam . dev─лс╣Г sarasvat─лс╣Г caiva tato jayamud─лyaret .. 1 .."),
        (Itrans, "nArAyaNaM namaskRRitya naraM chaiva narottamam | devIM sarasvatIM chaiva tato jayamudIyaret || 1 ||"),
        (Slp1, "nArAyaRaM namaskftya naraM cEva narottamam . devIM sarasvatIM cEva tato jayamudIyaret .. 1 .."),
        (Velthuis, "naaraaya.na.m namask.rtya nara.m caiva narottamam | devii.m sarasvatii.m caiva tato jayamudiiyaret || 1 ||"),
        // Indic
        (Devanagari, "рдирд╛рд░рд╛рдпрдгрдВ рдирдорд╕реНрдХреГрддреНрдп рдирд░рдВ рдЪреИрд╡ рдирд░реЛрддреНрддрдордореН ред рджреЗрд╡реАрдВ рд╕рд░рд╕реНрд╡рддреАрдВ рдЪреИрд╡ рддрддреЛ рдЬрдпрдореБрджреАрдпрд░реЗрддреН рее рез рее"),
        (Brahmi, "ЁСАжЁСА╕ЁСАнЁСА╕ЁСАмЁСАбЁСАБ ЁСАжЁСАлЁСА▓ЁСБЖЁСАУЁСА╛ЁСАвЁСБЖЁСАм ЁСАжЁСАнЁСАБ ЁСАШЁСБГЁСАп ЁСАжЁСАнЁСБДЁСАвЁСБЖЁСАвЁСАлЁСАлЁСБЖ ЁСБЗ ЁСАдЁСБВЁСАпЁСА╗ЁСАБ ЁСА▓ЁСАнЁСА▓ЁСБЖЁСАпЁСАвЁСА╗ЁСАБ ЁСАШЁСБГЁСАп ЁСАвЁСАвЁСБД ЁСАЪЁСАмЁСАлЁСА╝ЁСАдЁСА╗ЁСАмЁСАнЁСБВЁСАвЁСБЖ ЁСБИ ЁСБз ЁСБИ"),
        (Grantha, "ЁСМиЁСМ╛ЁСМ░ЁСМ╛ЁСМпЁСМгЁСМВ ЁСМиЁСМоЁСМ╕ЁСННЁСМХЁСНГЁСМдЁСННЁСМп ЁСМиЁСМ░ЁСМВ ЁСМЪЁСНИЁСМ╡ ЁСМиЁСМ░ЁСНЛЁСМдЁСННЁСМдЁСМоЁСМоЁСНН ред ЁСМжЁСНЗЁСМ╡ЁСНАЁСМВ ЁСМ╕ЁСМ░ЁСМ╕ЁСННЁСМ╡ЁСМдЁСНАЁСМВ ЁСМЪЁСНИЁСМ╡ ЁСМдЁСМдЁСНЛ ЁСМЬЁСМпЁСМоЁСНБЁСМжЁСНАЁСМпЁСМ░ЁСНЗЁСМдЁСНН рее рпз рее"),
        (Gujarati, "ркирк╛рк░рк╛ркпркгркВ ркиркорк╕рлНркХрлГркдрлНркп ркирк░ркВ ркЪрлИрк╡ ркирк░рлЛркдрлНркдркоркорлН ред ркжрлЗрк╡рлАркВ рк╕рк░рк╕рлНрк╡ркдрлАркВ ркЪрлИрк╡ ркдркдрлЛ ркЬркпркорлБркжрлАркпрк░рлЗркдрлН рее рлз рее"),
        (Kannada, "р▓ир▓╛р▓░р▓╛р▓пр▓гр▓В р▓ир▓ор▓╕р│Нр▓Хр│Гр▓др│Нр▓п р▓ир▓░р▓В р▓Ър│Ир▓╡ р▓ир▓░р│Лр▓др│Нр▓др▓ор▓ор│Н ред р▓жр│Зр▓╡р│Ар▓В р▓╕р▓░р▓╕р│Нр▓╡р▓др│Ар▓В р▓Ър│Ир▓╡ р▓др▓др│Л р▓Ьр▓пр▓ор│Бр▓жр│Ар▓пр▓░р│Зр▓др│Н рее р│з рее"),
        (Malayalam, "р┤ир┤╛р┤░р┤╛р┤пр┤гр┤В р┤ир┤ор┤╕р╡Нр┤Хр╡Гр┤др╡Нр┤п р┤ир┤░р┤В р┤Ър╡Ир┤╡ р┤ир┤░р╡Лр┤др╡Нр┤др┤ор┤ор╡Н ред р┤жр╡Зр┤╡р╡Ар┤В р┤╕р┤░р┤╕р╡Нр┤╡р┤др╡Ар┤В р┤Ър╡Ир┤╡ р┤др┤др╡Л р┤Ьр┤пр┤ор╡Бр┤жр╡Ар┤пр┤░р╡Зр┤др╡Н рее р╡з рее"),
        (Oriya, "рмирм╛рм░рм╛рмпрмгрмВ рмирморм╕рнНрмХрнГрмдрнНрмп рмирм░рмВ рмЪрнИрм╡ рмирм░рнЛрмдрнНрмдрморморнН ред рмжрнЗрм╡рнАрмВ рм╕рм░рм╕рнНрм╡рмдрнАрмВ рмЪрнИрм╡ рмдрмдрнЛ рмЬрмпрморнБрмжрнАрмпрм░рнЗрмдрнН рее рнз рее"),
        (Telugu, "р░ир░╛р░░р░╛р░пр░гр░В р░ир░ор░╕р▒Нр░Хр▒Гр░др▒Нр░п р░ир░░р░В р░Ър▒Ир░╡ р░ир░░р▒Лр░др▒Нр░др░ор░ор▒Н ред р░жр▒Зр░╡р▒Ар░В р░╕р░░р░╕р▒Нр░╡р░др▒Ар░В р░Ър▒Ир░╡ р░др░др▒Л р░Ьр░пр░ор▒Бр░жр▒Ар░пр░░р▒Зр░др▒Н рее р▒з рее"),
    ]);
}
